webpackJsonp([1],{"+Im3":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i("Dd8w"),a=i.n(l),s=i("P9l9"),o=i("lQzA"),n=i("r8FW"),r=i("NYxO"),u={components:{Radio:n.Radio,RadioGroup:n.RadioGroup,CellGroup:n.CellGroup,CellItem:n.CellItem,Vqiniu:o.a,CitySelect:n.CitySelect,CheckListItem:n.CheckListItem,CheckList:n.CheckList,TextArea:n.TextArea},data:function(){return{shared:!0,nosmokers:!0,nopet:!0,subway:!0,livingroom:!0,startdata:"2018-05-11",floor:"17",room:"1704",street:"",subwayline:"",rooms_num:0,bath_num:0,district:"",files:[],price:"",deposit:"",facilities:[],desc:"",facilitiesshow:!1}},computed:a()({},Object(r.c)(["roomimg"])),methods:{UploadMyApartment:function(){Object(s.h)({shared:this.shared,nosmokers:this.nosmokers,nopet:this.nopet,subway:this.subway,livingroom:this.livingroom,startdata:this.startdata,floor:this.floor,room:this.room,street:this.street,subwayline:this.subwayline,rooms_num:this.rooms_num,bath_num:this.bath_num,district:this.district,files:this.roomimg,price:this.price,deposit:this.deposit,facilities:this.facilities,desc:this.desc}).then(function(t){console.log(t.data)}).catch(function(t){console.log("出错了！"+t)})}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload"},[i("yd-layout",[i("h1",{staticClass:"bigtitle"},[t._v("Upload your apartment")]),t._v(" "),i("yd-cell-group",{attrs:{title:"Tips"}},[i("yd-cell-item",{attrs:{type:"label"}},[i("div",{attrs:{slot:"left"},slot:"left"},[t._v("No Smoking ")]),t._v(" "),i("yd-switch",{attrs:{slot:"right"},slot:"right",model:{value:t.nosmokers,callback:function(e){t.nosmokers=e},expression:"nosmokers"}})],1),t._v(" "),i("yd-cell-item",{attrs:{type:"label"}},[i("div",{attrs:{slot:"left"},slot:"left"},[t._v("No Pet ")]),t._v(" "),i("yd-switch",{attrs:{slot:"right"},slot:"right",model:{value:t.nopet,callback:function(e){t.nopet=e},expression:"nopet"}})],1),t._v(" "),i("yd-cell-item",{attrs:{type:"label"}},[i("div",{attrs:{slot:"left"},slot:"left"},[t._v("Subway (Max 10 mins walk) ")]),t._v(" "),i("yd-switch",{attrs:{slot:"right"},slot:"right",model:{value:t.subway,callback:function(e){t.subway=e},expression:"subway"}})],1),t._v(" "),i("yd-cell-item",{attrs:{type:"label"}},[i("div",{attrs:{slot:"left"},slot:"left"},[t._v("Shard bathroom? ")]),t._v(" "),i("yd-switch",{attrs:{slot:"right"},slot:"right",model:{value:t.livingroom,callback:function(e){t.livingroom=e},expression:"livingroom"}})],1)],1),t._v(" "),i("yd-cell-group",{attrs:{title:"Availability"}},[i("yd-cell-item",{attrs:{arrow:""}},[i("span",{attrs:{slot:"left"},slot:"left"},[t._v("Avaliable from:  ")]),t._v(" "),i("yd-datetime",{attrs:{slot:"right",type:"date"},slot:"right",model:{value:t.startdata,callback:function(e){t.startdata=e},expression:"startdata"}})],1)],1),t._v(" "),i("yd-cell-group",{attrs:{title:"Apartment details"}},[i("div",{staticClass:"room_desc_item"},[i("span",{staticClass:"item-title"},[t._v("Bedroom : ")]),t._v(" "),i("yd-spinner",{staticClass:"item-count",attrs:{width:"150px",height:"40px",min:"1",unit:"1",max:"5"},model:{value:t.rooms_num,callback:function(e){t.rooms_num=e},expression:"rooms_num"}})],1),t._v(" "),i("div",{staticClass:"room_desc_item"},[i("span",{staticClass:"item-title"},[t._v("Bathroom : ")]),t._v(" "),i("yd-spinner",{staticClass:"item-count",attrs:{width:"150px",height:"40px",min:"1",unit:"1",max:"5"},model:{value:t.bath_num,callback:function(e){t.bath_num=e},expression:"bath_num"}})],1)]),t._v(" "),i("yd-cell-group",{attrs:{title:""}},[i("yd-cell-item",[i("span",{attrs:{slot:"left"},slot:"left"},[t._v(" Size:  ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],attrs:{slot:"right",type:"number",placeholder:""},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}},slot:"right"}),t._v(" "),i("span",{attrs:{slot:"right"},slot:"right"},[t._v(" sq.m ")])]),t._v(" "),i("yd-cell-item",{attrs:{arrow:""}},[i("span",{attrs:{slot:"left"},slot:"left"},[t._v("District:   ")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.district,expression:"district"}],attrs:{slot:"right"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.district=e.target.multiple?i:i[0]}},slot:"right"},[i("option",{attrs:{value:"xuhui"}},[t._v("jingan")]),t._v(" "),i("option",{attrs:{value:"jingan"}},[t._v("xuhui")]),t._v(" "),i("option",{attrs:{value:"pudong"}},[t._v("huangpu")]),t._v(" "),i("option",{attrs:{value:"huangpu"}},[t._v("pudong")]),t._v(" "),i("option",{attrs:{value:"pudong"}},[t._v("changning")]),t._v(" "),i("option",{attrs:{value:"pudong"}},[t._v("minhang")]),t._v(" "),i("option",{attrs:{value:"pudong"}},[t._v("luwan")]),t._v(" "),i("option",{attrs:{value:"pudong"}},[t._v("hongkou")]),t._v(" "),i("option",{attrs:{value:"pudong"}},[t._v("baoshan")]),t._v(" "),i("option",{attrs:{value:"pudong"}},[t._v("zhabei")]),t._v(" "),i("option",{attrs:{value:"pudong"}},[t._v("songjiang")])])]),t._v(" "),i("yd-cell-item",{attrs:{arrow:""}},[i("span",{attrs:{slot:"left"},slot:"left"},[t._v("Subway line:   ")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.subwayline,expression:"subwayline"}],attrs:{slot:"right"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.subwayline=e.target.multiple?i:i[0]}},slot:"right"},[i("option",{attrs:{value:"1"}},[t._v("line 1")]),t._v(" "),i("option",{attrs:{value:"2"}},[t._v("line 2")]),t._v(" "),i("option",{attrs:{value:"3"}},[t._v("line 3")]),t._v(" "),i("option",{attrs:{value:"4"}},[t._v("line 4")]),t._v(" "),i("option",{attrs:{value:"5"}},[t._v("line 5")]),t._v(" "),i("option",{attrs:{value:"6"}},[t._v("line 6")]),t._v(" "),i("option",{attrs:{value:"7"}},[t._v("line 7")]),t._v(" "),i("option",{attrs:{value:"8"}},[t._v("line 8")]),t._v(" "),i("option",{attrs:{value:"9"}},[t._v("line 9")]),t._v(" "),i("option",{attrs:{value:"10"}},[t._v("line 10")]),t._v(" "),i("option",{attrs:{value:"11"}},[t._v("line 11")]),t._v(" "),i("option",{attrs:{value:"12"}},[t._v("line 12")]),t._v(" "),i("option",{attrs:{value:"13"}},[t._v("line 13")])])]),t._v(" "),i("yd-cell-item",[i("span",{attrs:{slot:"left"},slot:"left"},[t._v(" Floor:   ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.floor,expression:"floor"}],attrs:{slot:"right",type:"number",placeholder:"",required:""},domProps:{value:t.floor},on:{input:function(e){e.target.composing||(t.floor=e.target.value)}},slot:"right"})]),t._v(" "),i("yd-cell-item",[i("span",{attrs:{slot:"left"},slot:"left"},[t._v(" Room N.O:   ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.room,expression:"room"}],attrs:{slot:"right",type:"number",placeholder:"",required:""},domProps:{value:t.room},on:{input:function(e){e.target.composing||(t.room=e.target.value)}},slot:"right"})]),t._v(" "),i("yd-cell-item",[i("span",{attrs:{slot:"left"},slot:"left"},[t._v(" Street:   ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.street,expression:"street"}],attrs:{slot:"right",type:"text",placeholder:"",required:""},domProps:{value:t.street},on:{input:function(e){e.target.composing||(t.street=e.target.value)}},slot:"right"})])],1),t._v(" "),i("yd-cell-group",{attrs:{title:"Amenities"}},[i("yd-cell-item",{attrs:{arrow:""},nativeOn:{click:function(e){t.facilitiesshow=!0}}},[i("span",{attrs:{slot:"left"},slot:"left"},[t._v("Choose what you have")])])],1),t._v(" "),i("yd-popup",{attrs:{position:"bottom",height:"75%"},model:{value:t.facilitiesshow,callback:function(e){t.facilitiesshow=e},expression:"facilitiesshow"}},[i("yd-checklist",{attrs:{align:"right"},model:{value:t.facilities,callback:function(e){t.facilities=e},expression:"facilities"}},[i("yd-checklist-item",{attrs:{val:"Bath"}},[i("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("Balcony")])]),t._v(" "),i("yd-checklist-item",{attrs:{val:"Subway"}},[i("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("Swimming pool")])]),t._v(" "),i("yd-checklist-item",{attrs:{val:"3"}},[i("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("Garden")])]),t._v(" "),i("yd-checklist-item",{attrs:{val:"3"}},[i("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("Rooftop")])]),t._v(" "),i("yd-checklist-item",{attrs:{val:"3"}},[i("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("Bathtub")])]),t._v(" "),i("yd-checklist-item",{attrs:{val:"3"}},[i("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("Gym")])]),t._v(" "),i("yd-checklist-item",{attrs:{val:"3"}},[i("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("Oven")])]),t._v(" "),i("yd-checklist-item",{attrs:{val:"3"}},[i("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("Dishwasher")])]),t._v(" "),i("yd-checklist-item",{attrs:{val:"3"}},[i("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("AC")])]),t._v(" "),i("yd-checklist-item",{attrs:{val:"3"}},[i("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("Heating")])]),t._v(" "),i("yd-checklist-item",{attrs:{val:"3"}},[i("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("Double pined windows")])]),t._v(" "),i("yd-checklist-item",{attrs:{val:"3"}},[i("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("Internet")])]),t._v(" "),i("yd-checklist-item",{attrs:{val:"3"}},[i("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("Cable tv")])])],1)],1),t._v(" "),i("yd-cell-group",{attrs:{title:"Your house pictures"}},[i("Vqiniu")],1),t._v(" "),i("yd-cell-group",{attrs:{title:"Term"}},[i("yd-cell-item",[i("span",{attrs:{slot:"left"},slot:"left"},[t._v(" Price: ¥  ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],attrs:{slot:"right",type:"number",placeholder:""},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}},slot:"right"})]),t._v(" "),i("yd-cell-item",[i("span",{attrs:{slot:"left"},slot:"left"},[t._v(" Deposit:   ")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.subwayline,expression:"subwayline"}],attrs:{slot:"right"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.subwayline=e.target.multiple?i:i[0]}},slot:"right"},[i("option",{attrs:{value:"1"}},[t._v("1 month rent")]),t._v(" "),i("option",{attrs:{value:"2"}},[t._v("1.5 month rent")])])]),t._v(" "),i("yd-cell-item",{attrs:{arrow:""}},[i("span",{attrs:{slot:"left"},slot:"left"},[t._v("Lease length:   ")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.subwayline,expression:"subwayline"}],attrs:{slot:"right"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.subwayline=e.target.multiple?i:i[0]}},slot:"right"},[i("option",{attrs:{value:"1"}},[t._v("1 year")]),t._v(" "),i("option",{attrs:{value:"2"}},[t._v("2 year")])])]),t._v(" "),i("yd-cell-item",{attrs:{arrow:""}},[i("span",{attrs:{slot:"left"},slot:"left"},[t._v("Payment methods:   ")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.subwayline,expression:"subwayline"}],attrs:{slot:"right"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.subwayline=e.target.multiple?i:i[0]}},slot:"right"},[i("option",{attrs:{value:"1"}},[t._v("Per 1 month")]),t._v(" "),i("option",{attrs:{value:"2"}},[t._v("Per 2 month")]),t._v(" "),i("option",{attrs:{value:"2"}},[t._v("Per 3 month")])])])],1),t._v(" "),i("yd-cell-group",{attrs:{title:"Describe your awesome room.. "}},[i("yd-cell-item",[i("yd-textarea",{attrs:{slot:"right",placeholder:"Tell me your bank password",maxlength:"100"},slot:"right",model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1)],1),t._v(" "),i("yd-button-group",[i("yd-button",{attrs:{size:"large",type:"primary"},nativeOn:{click:function(e){return t.UploadMyApartment(e)}}},[t._v("Upload")])],1)],1)],1)},staticRenderFns:[]};var v=i("VU/8")(u,c,!1,function(t){i("RVpk")},"data-v-7fe51388",null);e.default=v.exports},"1kS7":function(t,e){e.f=Object.getOwnPropertySymbols},CPEB:function(t,e){},Dd8w:function(t,e,i){"use strict";e.__esModule=!0;var l,a=i("woOf"),s=(l=a)&&l.__esModule?l:{default:l};e.default=s.default||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(t[l]=i[l])}return t}},NpIQ:function(t,e){e.f={}.propertyIsEnumerable},QOvy:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTIyNjQ5Nzk1MjU1IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjUxOTYiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTQ0OCA1NzYgNTc2IDU3NiA1NzYgMzIwIDc2OCAzMjAgNTEyIDY0IDI1NiAzMjAgNDQ4IDMyMHpNNjQwIDQzMiA2NDAgNTMwLjcyIDkzMy4wNTYgNjQwIDUxMiA3OTcuMDI0IDkwLjk0NCA2NDAgMzg0IDUzMC43MiAzODQgNDMyIDAgNTc2IDAgODMyIDUxMiAxMDI0IDEwMjQgODMyIDEwMjQgNTc2eiIgcC1pZD0iNTE5NyIgZmlsbD0iI0ZGNjg1RCI+PC9wYXRoPjwvc3ZnPg=="},R4wc:function(t,e,i){var l=i("kM2E");l(l.S+l.F,"Object",{assign:i("To3L")})},RVpk:function(t,e){},To3L:function(t,e,i){"use strict";var l=i("lktj"),a=i("1kS7"),s=i("NpIQ"),o=i("sB3e"),n=i("MU5D"),r=Object.assign;t.exports=!r||i("S82l")(function(){var t={},e={},i=Symbol(),l="abcdefghijklmnopqrst";return t[i]=7,l.split("").forEach(function(t){e[t]=t}),7!=r({},t)[i]||Object.keys(r({},e)).join("")!=l})?function(t,e){for(var i=o(t),r=arguments.length,u=1,c=a.f,v=s.f;r>u;)for(var p,d=n(arguments[u++]),m=c?l(d).concat(c(d)):l(d),h=m.length,g=0;h>g;)v.call(d,p=m[g++])&&(i[p]=d[p]);return i}:r},V3tA:function(t,e,i){i("R4wc"),t.exports=i("FeBl").Object.assign},lQzA:function(t,e,i){"use strict";var l=i("Dd8w"),a=i.n(l),s={APPLY_QINIUUPLOADTOKEN_API:"http://api.agentily.com/qiniu/",QINIU_UPLOAD_HTTP_API:"http://up-z0.qiniu.com",QINIU_UPLOAD_HTTPS_API:"https://up.qbox.me"},o=i("P9l9"),n=i("NYxO"),r={props:["imgtype"],data:function(){return{error:null,buttonAvailable:!0,autoUpload:!0,file:{self:null,size:null,type:null,suffix:null},serverToken:{token:null,expire:null,key:null,url:null},successImages:[]}},computed:{},activated:function(){this.$store.state.roomimg=null},methods:a()({},Object(n.b)(["addroomimg","deleteroomimg","adduserimg","deleteuserimg"]),{uploadButtonOnClick:function(){this.buttonAvailable=!1;this.applyUploadToken(this.file.suffix,function(t){this.serverToken=t,this.uploadFileToQiniu()}.bind(this),function(t){this.buttonAvailable=!0,this.error=t}.bind(this))},fileInputOnChange:function(t){var e=t.currentTarget.files[0];null!=e?(this.showPreview=!0,this.file={self:e,size:e.size,type:e.type,suffix:e.name.substring(e.name.lastIndexOf(".")+1,e.name.length).toLowerCase()},this.previewImage(e),this.autoUpload&&this.uploadButtonOnClick()):this.reset()},reset:function(){this.file={self:null,size:null,type:null,suffix:null},this.error=null,this.buttonAvailable=!0},previewImage:function(t){if(window.FileReader){var e=new FileReader;e.onloadend=function(t){document.querySelector(".preview #image").src=t.target.result},e.readAsDataURL(t)}else console.warn("不支持 FileReader")},applyUploadToken:function(t,e,i){var l={suffix:t};this.$http.post(s.APPLY_QINIUUPLOADTOKEN_API,l).then(function(t){200===t.status?(e(t.data),console.log(t.data)):i("向服务器请求上传 token 失败")},function(){i("检查您的网络连接")})},uploadFileToQiniu:function(){var t=this;if(null!=this.file.self){console.log("开始上传文件");var e=new FormData;e.append("token",this.serverToken.token),e.append("file",this.file.self),e.append("key",this.serverToken.key),this.axios({method:"post",url:s.QINIU_UPLOAD_HTTP_API,headers:{"Content-Type":"multipart/form-data"},data:e}).then(function(e){if(200===e.status){t.successImages.push(t.serverToken.url);var i=t.serverToken.url;"profile"===t.imgtype?t.adduserimg(i):t.addroomimg(i),t.reset()}},function(){t.error="上传文件到七牛异常"})}else this.error="上传文件到七牛异常"},DeleteFileFromQiniu:function(t){var e=this;Object(o.b)({image:t}).then(function(i){console.log(i),e.successImages.pop(t),"profile"===e.imgtype?e.deleteuserimg(t):e.deleteroomimg(t)}).catch(function(t){console.log(t)})}})},u={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"uploader"},[null!=t.successImages&&t.successImages.length>0?l("div",{staticClass:"success-images"},[l("p",[t._v("上传列表"+t._s(t.imgtype)+"+"+t._s(t.successImages))]),t._v(" "),l("div",{staticClass:"uploaded-wrapper"},t._l(t.successImages,function(e,i){return l("div",{key:i,staticClass:"upload-item"},[l("yd-icon",{staticClass:"deleteIcon",attrs:{name:"error-outline"},nativeOn:{click:function(i){t.DeleteFileFromQiniu(e)}}}),t._v(" "),l("img",{staticClass:"uploadedImg",attrs:{src:"http://"+e,num:t.successImages.length}})],1)}))]):t._e(),t._v(" "),null!=t.error?l("p",{staticClass:"error-color"},[t._v("错误信息："+t._s(t.error))]):t._e(),t._v(" "),null!=t.file.size?l("div",{staticClass:"preview"},[l("img",{attrs:{id:"image"}}),t._v(" "),l("h3",[t._v("文件大小："+t._s(t.file.size/1024)+" KB")]),t._v(" "),l("h3",[t._v("文件类型："+t._s(t.file.type))])]):t._e(),t._v(" "),l("div",{staticClass:"upload-btn"},[l("input",{staticClass:"upload-img",attrs:{title:"",type:"file",accept:"image/*",name:"file"},on:{change:function(e){t.fileInputOnChange(e)}}}),t._v(" "),l("img",{attrs:{src:i("QOvy"),alt:""}}),t._v(" "),l("p",[t._v("Upload")])]),t._v(" "),t.autoUpload?t._e():l("button",{attrs:{disabled:null!=t.file.size&&t.buttonAvailable?null:"disabled"},on:{click:function(e){t.uploadButtonOnClick()}}},[t._v("Upload")])])},staticRenderFns:[]};var c=i("VU/8")(r,u,!1,function(t){i("CPEB")},"data-v-7efd3874",null);e.a=c.exports},woOf:function(t,e,i){t.exports={default:i("V3tA"),__esModule:!0}}});
//# sourceMappingURL=1.92e01304d457563db029.js.map